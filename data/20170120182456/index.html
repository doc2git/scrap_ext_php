<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Packagist / Composer 中国全量镜像</title>
    <meta name="description" content="Packagist / Composer 中国全量镜像是将所有安装包的元数据（来自 packagist.org 网站）、安装文件（来自 github.com 网站）全部镜像到国内的机房并通过 CDN 加速，让国内用户不必担心国外服务器无法访问的问题，加速 Composer install 的安装过程，让 PHP 的包管理系统在国内的使用更便捷。">
    <meta name="keywords" content="Composer,Packagist,Composer镜像,全量镜像,package.json,Laravel,Synfony,PHP包管理系统,PHP,CDN加速">
    <meta name="author" content="王赛">

    <link rel="shortcut icon" href="favicon.ico">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="default.min.css" rel="stylesheet">

    <style>
/* Code tidied up by ScrapBook */
body { font-family: "Helvetica Neue","Helvetica","Lucida Grande","Arial","Hiragino Sans GB","Microsoft Yahei","WenQuanYi Micro Hei","sans-serif"; }
.jumbotron h1 { font-weight: normal; }
.footer { padding: 20px 0px; margin-top: 80px; border-top: 1px solid rgb(238, 238, 238); }
#status { color: rgb(170, 170, 170); }
.markdown-body { font-family: "Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 16px; line-height: 1.6; word-wrap: break-word; }
.markdown-body::before { display: table; content: ""; }
.markdown-body::after { display: table; clear: both; content: ""; }
.markdown-body > :first-child { margin-top: 0px ! important; }
.markdown-body > :last-child { margin-bottom: 0px ! important; }
.markdown-body a:not([href]) { color: inherit; text-decoration: none; }
.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 { margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-body h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-body h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-body p, .markdown-body blockquote, .markdown-body ul, .markdown-body ol, .markdown-body dl, .markdown-body table, .markdown-body pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-body ul, .markdown-body ol { padding-left: 2em; }
.markdown-body blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-body blockquote > :first-child { margin-top: 0px; }
.markdown-body blockquote > :last-child { margin-bottom: 0px; }
.markdown-body code, .markdown-body tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.04); border-radius: 3px; }
.markdown-body code::before, .markdown-body code::after, .markdown-body tt::before, .markdown-body tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-body pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent none repeat scroll 0% 0%; border: 0px none; }
.markdown-body .highlight pre, .markdown-body pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-body pre { word-wrap: normal; }
.markdown-body pre code, .markdown-body pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px none; }
.markdown-body pre code::before, .markdown-body pre code::after, .markdown-body pre tt::before, .markdown-body pre tt::after { content: normal; }
.markdown-body { font-family: "Helvetica Neue","Helvetica","Lucida Grande","Arial","Hiragino Sans GB","Microsoft Yahei","WenQuanYi Micro Hei","sans-serif"; }
.markdown-body pre { border: medium none; }
</style>
  <style type="text/css">
/* Code tidied up by ScrapBook */
</style></head>
  <body>

    <header class="jumbotron">
      <div class="container">
        <div class="text-center"><img src="ac0b13e525c188592c298f49c1fe4.png" alt="packagist logo" width="120"></div>
        <h1 class="text-center">Packagist / Composer <br>中国全量镜像</h1>
        <div id="status" class="text-center"><span>本镜像共缓存了 <strong>126406</strong> 个项目(package)、<strong>1648472</strong> 个(zip)安装包。</span><span>最后同步时间：<time>2017/1/20 下午6:15:00</time> 。</span></div>
      </div>
    </header>

    <main class="container">
        <div class="row">
            <div class="col-md-8 col-md-push-2 col-sm-12">
              <div class="markdown-body">
                <p><a id="packagist-mirror"></a></p>
<h1>Packagist 镜像</h1><div class="alert alert-success">
<p>请各位使用本镜像的同学注意：</p>
<p>本镜像已经依照 composer 官方的数据源安全策略完全升级并支持 <strong>https</strong> 协议！请各位同学
按照下面所示的两个方法将 <code><a href="http://packagist.phpcomposer.com/">http://packagist.phpcomposer.com</a></code> 修改为 <code><a href="https://packagist.phpcomposer.com/">https://packagist.phpcomposer.com</a></code></p>
</div>

<blockquote>
<p>还没安装 Composer 吗？请往下看<a href="#how-to-install-composer">如何安装 Composer</a> 。</p>
</blockquote>
<h2>用法：</h2><p>有两种方式启用本镜像服务：</p>
<ul>
<li><strong>系统全局配置：</strong> 即将配置信息添加到 Composer 的全局配置文件 <code>config.json</code> 中。见<a href="#tip1">“例1”</a></li>
<li><strong>单个项目配置：</strong> 将配置信息添加到某个项目的 <code>composer.json</code> 文件中。见<a href="#tip2">“例2”</a></li>
</ul>
<p><a id="tip1"></a>
<strong>例1：修改 composer 的全局配置文件<span class="text-success">（推荐方式）</span></strong></p>
<p>打开命令行窗口（windows用户）或控制台（Linux、Mac 用户）并执行如下命令：</p>
<pre><code class="language-bash hljs">composer config -g repo.packagist composer https://packagist.phpcomposer.com
</code></pre>
<p><a id="tip2"></a>
<strong>例2：修改当前项目的 <code>composer.json</code> 配置文件：</strong></p>
<p>打开命令行窗口（windows用户）或控制台（Linux、Mac 用户），进入你的项目的根目录（也就是 <code>composer.json</code> 文件所在目录），执行如下命令：</p>
<pre><code class="language-bash hljs">composer config repo.packagist composer https://packagist.phpcomposer.com
</code></pre>
<p>上述命令将会在当前项目中的 <code>composer.json</code> 文件的末尾自动添加镜像的配置信息（你也可以自己手工添加）：</p>
<pre><code class="language-json hljs"><span class="hljs-string">"repositories"</span>: {
    "<span class="hljs-attribute">packagist</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"composer"</span></span>,
        "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"https://packagist.phpcomposer.com"</span>
    </span>}
</span>}
</code></pre>
<p>以 laravel 项目的 <code>composer.json</code> 配置文件为例，执行上述命令后如下所示（注意最后几行）：</p>
<pre><code class="language-json hljs">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"laravel/laravel"</span></span>,
    "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The Laravel Framework."</span></span>,
    "<span class="hljs-attribute">keywords</span>": <span class="hljs-value">[<span class="hljs-string">"framework"</span>, <span class="hljs-string">"laravel"</span>]</span>,
    "<span class="hljs-attribute">license</span>": <span class="hljs-value"><span class="hljs-string">"MIT"</span></span>,
    "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"project"</span></span>,
    "<span class="hljs-attribute">require</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">php</span>": <span class="hljs-value"><span class="hljs-string">"&gt;=5.5.9"</span></span>,
        "<span class="hljs-attribute">laravel/framework</span>": <span class="hljs-value"><span class="hljs-string">"5.2.*"</span>
    </span>}</span>,
    "<span class="hljs-attribute">require-dev</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">fzaninotto/faker</span>": <span class="hljs-value"><span class="hljs-string">"~1.4"</span></span>,
        "<span class="hljs-attribute">mockery/mockery</span>": <span class="hljs-value"><span class="hljs-string">"0.9.*"</span></span>,
        "<span class="hljs-attribute">phpunit/phpunit</span>": <span class="hljs-value"><span class="hljs-string">"~4.0"</span></span>,
        "<span class="hljs-attribute">symfony/css-selector</span>": <span class="hljs-value"><span class="hljs-string">"2.8.*|3.0.*"</span></span>,
        "<span class="hljs-attribute">symfony/dom-crawler</span>": <span class="hljs-value"><span class="hljs-string">"2.8.*|3.0.*"</span>
    </span>}</span>,
    "<span class="hljs-attribute">autoload</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">classmap</span>": <span class="hljs-value">[
            <span class="hljs-string">"database"</span>
        ]</span>,
        "<span class="hljs-attribute">psr-4</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">App\\</span>": <span class="hljs-value"><span class="hljs-string">"app/"</span>
        </span>}
    </span>}</span>,
    "<span class="hljs-attribute">autoload-dev</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">classmap</span>": <span class="hljs-value">[
            <span class="hljs-string">"tests/TestCase.php"</span>
        ]
    </span>}</span>,
    "<span class="hljs-attribute">scripts</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">post-root-package-install</span>": <span class="hljs-value">[
            <span class="hljs-string">"php -r \"copy('.env.example', '.env');\""</span>
        ]</span>,
        "<span class="hljs-attribute">post-create-project-cmd</span>": <span class="hljs-value">[
            <span class="hljs-string">"php artisan key:generate"</span>
        ]</span>,
        "<span class="hljs-attribute">post-install-cmd</span>": <span class="hljs-value">[
            <span class="hljs-string">"php artisan clear-compiled"</span>,
            <span class="hljs-string">"php artisan optimize"</span>
        ]</span>,
        "<span class="hljs-attribute">pre-update-cmd</span>": <span class="hljs-value">[
            <span class="hljs-string">"php artisan clear-compiled"</span>
        ]</span>,
        "<span class="hljs-attribute">post-update-cmd</span>": <span class="hljs-value">[
            <span class="hljs-string">"php artisan optimize"</span>
        ]
    </span>}</span>,
    "<span class="hljs-attribute">config</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">preferred-install</span>": <span class="hljs-value"><span class="hljs-string">"dist"</span>
    </span>}</span>,
    "<span class="hljs-attribute">repositories</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">packagist</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"composer"</span></span>,
            "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"https://packagist.phpcomposer.com"</span>
        </span>}
    </span>}
</span>}
</code></pre>
<p>OK，一切搞定！试一下 <code>composer install</code> 来体验飞一般的速度吧！</p>
<h2>镜像说明：</h2><p>一般情况下，安装包的数据（主要是 zip 文件）一般是从 <code>github.com</code> 上下载的，安装包的元数据是从 <code>packagist.org</code> 上下载的。</p>
<p>然而，由于众所周知的原因，国外的网站连接速度很慢，并且随时可能被“墙”甚至“不存在”。</p>
<p>“Packagist 中国全量镜像”所做的就是缓存所有安装包和元数据到国内的机房并通过国内的 CDN 进行加速，这样就不必再去向国外的网站发起请求，从而达到加速 <code>composer install</code> 以及 <code>composer update</code> 的过程，并且更加快速、稳定。因此，即使 <code>packagist.org</code>、<code>github.com</code>  发生故障（主要是连接速度太慢和被墙），你仍然可以下载、更新安装包。</p>
<p><a id="how-to-install-composer"></a></p>
<h1>如何安装 Composer</h1><blockquote>
<p>安装前请务必确保已经正确安装了 <a href="http://php.net/">PHP</a>。打开命令行窗口并执行 <code>php -v</code> 查看是否正确输出版本号。</p>
</blockquote>
<p>打开命令行并执行下列命令安装最新版本的 Composer (以下指令摘自 <a href="https://getcomposer.org/download/">https://getcomposer.org/download/</a> ，请前往查看最新的安装指令)：</p>
<pre><code class="language-bash hljs">php -r <span class="hljs-string">"readfile('https://getcomposer.org/installer');"</span> &gt; composer-setup.php

php composer-setup.php

php -r <span class="hljs-string">"unlink('composer-setup.php');"</span>
</code></pre>
<p>执行第一条命令下载下来的 <code>composer-setup.php</code> 脚本将简单的检测 <code>php.ini</code> 中的参数设置，如果某些参数未正确设置则会给出警告；然后下载最新版本的 <code>composer.phar</code> 文件到当前目录。</p>
<p>上述 3 条命令的作用依次是：</p>
<ol>
<li>下载安装脚本（<code>composer-setup.php</code>）到当前目录。</li>
<li>执行安装过程。</li>
<li>删除安装脚本 -- <code>composer-setup.php</code> 。</li>
</ol>
<h2>局部安装</h2><p>上述下载 Composer 的过程正确执行完毕后，可以将 <code>composer.phar</code> 文件复制到任意目录（比如项目根目录下），然后通过 <code>php composer.phar</code> 指令即可使用 Composer 了！</p>
<h2>全局安装</h2><p>全局安装是将 Composer 安装到系统环境变量 <code>PATH</code> 所包含的路径下面，然后就能够在命令行窗口中直接执行 <code>composer</code> 命令了。</p>
<p><strong>Mac 或 Linux 系统</strong>：打开命令行窗口并执行如下命令将前面下载的 <code>composer.phar</code> 文件移动到 <code>/usr/local/bin/</code> 目录下面：</p>
<pre><code class="language-bash hljs">sudo mv composer.phar /usr/<span class="hljs-built_in">local</span>/bin/composer
</code></pre>
<p><strong>Windows 系统</strong>：</p>
<ol>
<li>找到并进入 PHP 的安装目录（和你在命令行中执行的 <code>php</code> 指令应该是同一套 PHP）。</li>
<li>将 <code>composer.phar</code> 复制到 PHP 的安装目录下面，也就是和 <code>php.exe</code> 在同一级目录。</li>
<li>在 PHP 安装目录下新建一个 <code>composer.bat</code> 文件，并将下列代码保存到此文件中。 </li>
</ol>
<pre><code class="language-bash hljs">@php <span class="hljs-string">"%~dp0composer.phar"</span> %*
</code></pre>
<p>最后重新打开一个命令行窗口试一试执行 <code>composer --version</code> 看看是否正确输出版本号。</p>
<h2>最后</h2><blockquote>
<p>提示：不要忘了经常执行 <code>composer selfupdate</code> 以保持 Composer 一直是最新版本哦！</p>
</blockquote>

              </div>
            </div>
        </div>

    </main>

    <footer class="footer">
      <div class="text-center">
        Powered by <a href="http://www.golaravel.com/" target="_blank">GoLaravel.com</a> - <a href="http://wenda.golaravel.com/" target="_blank">中文社区</a> - <a href="http://wenda.golaravel.com/" target="_blank">论坛反馈问题</a> 或 <a href="mailto:golaravel.com@gmail.com">通过邮件反馈问题：</a>golaravel.com@gmail.com
      </div>
    </footer>

    <script src="about:blank"></script>
    <script>/* Code removed by ScrapBook */</script>

    <script src="about:blank"></script>
    <script>/* Code removed by ScrapBook */</script>

    <script type="text/javascript">/* Code removed by ScrapBook */</script><script src="about:blank" type="text/javascript"></script>
  

</body>
</html>
